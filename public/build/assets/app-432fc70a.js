import"./vue-e72decd8.js";import{aF as x,aL as h,az as s,u as l,v as i,H as $,bp as k,G as v,aZ as u,t as p,F as w,aJ as T,aj as f,f as q,s as y,aN as A,aD as L,aA as R,br as S,bg as I,bu as C,bh as U,al as M,bd as V,q as B}from"./@vue-a8c8ab0e.js";import{c as z,a as G}from"./vue-router-c61dbbab.js";import{Q as H}from"./qrcode-vue3-cb0cbdc5.js";import{l as Q}from"./lodash-b55dff9f.js";import{P as K}from"./@popperjs-8746c87e.js";import"./bootstrap-f7626649.js";import{a as j}from"./axios-760d4776.js";import{c as Y}from"./vue-i18n-bcc90ef9.js";import"./@intlify-709a1feb.js";import"./source-map-7d7e1c08.js";const J=x({user:null}),g={data(){return{store:J,locales:{kk:"QAZ",ru:"RUS",en:"ENG"}}},methods:{basicErrorHandling(e){if(console.log("error",e.stack),e.response&&e.response.status)if(e.response.status===401)this.logout();else{if(e.response.status===403)return this.toast("warning","You don't have permission");if(e.response.status===500)return this.toast("danger","Some error occured. Contact support")}return this.toast("danger","Try again later")},toast(e,n){const t={};return t.type=`alert alert-+${e}`,t.text=n,t},stringIsSet(e){return e!=null&&e!==""},arrayIsSet(e){return e!=null&&e.length>0},authenticate(e){localStorage.setItem("entries_user",JSON.stringify(e)),this.store.user=e},authenticated(){return this.store.user!==null},getAuthenticatedUser(){return this.store.user=JSON.parse(localStorage.getItem("entries_user")),this.store.user},eraseUserData(){localStorage.removeItem("entries_user"),this.store.user=null},goTo(e){this.$router.push(e)},fetchUser(){const e=this.getAuthenticatedUser();e!==null&&(this.store.user=e)},getUserToken(){return this.store.user.token},changeLocale(e){localStorage.setItem("entries_lang",e),this.$router.go()},toTitleCase(e){return e.toLowerCase().replace(/\b\w/g,n=>n.toUpperCase())}}},W="/build/assets/language-18db373e.png",m=(e,n)=>{const t=e.__vccOpts||e;for(const[c,a]of n)t[c]=a;return t},Z={name:"Header",mixins:[g],data(){return{logo:{}.VITE_LOGO_URL,brand:{}.VITE_BRAND_TITLE,toggleMenu:!1}}},X={class:"navbar navbar-expand-lg navbar-light bg-light"},ee={class:"container"},te=["src"],ne=i("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"true","aria-label":"Toggle navigation"},[i("span",{class:"navbar-toggler-icon"})],-1),ae={class:"collapse navbar-collapse d-lg-flex justify-content-lg-end",id:"navbarNav"},re={class:"navbar-nav my-2 my-lg-0"},se={key:0,class:"nav-item"},ie={key:1,class:"nav-item"},oe={key:2,class:"nav-item"},le={key:3,class:"nav-item"},de={key:4,class:"nav-item"},ue={key:5,class:"nav-item"},ce={key:6,class:"nav-item dropdown"},me=i("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[i("img",{src:W,height:"20",style:{"margin-right":".25rem"}}),v(" Language ")],-1),he={class:"dropdown-menu dropdown-menu-end dropdown-menu-lg-start"},pe=["value"],ge=["onClick"];function be(e,n,t,c,a,d){const o=h("router-link");return s(),l("nav",X,[i("div",ee,[$(o,{class:"navbar-brand",to:"/"},{default:k(()=>[i("img",{id:"brand-logo",src:a.logo,alt:"Logo",width:"24",height:"24",class:"d-inline-block align-text-top"},null,8,te),v(" "+u(a.brand),1)]),_:1}),ne,i("div",ae,[i("ul",re,[e.authenticated()?(s(),l("li",se,[$(o,{class:"nav-link","active-class":"active",to:"/partners"},{default:k(()=>[v(u(e.$t("Partners")),1)]),_:1})])):p("",!0),e.authenticated()?(s(),l("li",ie,[$(o,{class:"nav-link","active-class":"active",to:"/subpartners"},{default:k(()=>[v(u(e.$t("Subpartners")),1)]),_:1})])):p("",!0),e.authenticated()?(s(),l("li",oe,[$(o,{class:"nav-link text-capitalize","active-class":"active",to:"/numbers"},{default:k(()=>[v(u(e.$t("Numbers")),1)]),_:1})])):p("",!0),e.authenticated()?(s(),l("li",le,[$(o,{class:"nav-link","active-class":"active",to:"/partner-ids"},{default:k(()=>[v(u(e.$t("Partner IDs")),1)]),_:1})])):p("",!0),e.authenticated()?p("",!0):(s(),l("li",de,[$(o,{class:"nav-link","active-class":"active",to:"/login"},{default:k(()=>[v(u(e.$t("Login")),1)]),_:1})])),e.authenticated()?(s(),l("li",ue,[$(o,{class:"nav-link","active-class":"active",to:"/logout"},{default:k(()=>[v(u(e.$t("Logout")),1)]),_:1})])):p("",!0),e.authenticated()?p("",!0):(s(),l("li",ce,[me,i("ul",he,[(s(!0),l(w,null,T(e.$i18n.availableLocales,r=>(s(),l("li",{key:`locale-${r}`,value:r},[i("a",{class:f(["dropdown-item",{active:r===e.$i18n.locale}]),onClick:_=>e.$emit("locale-changed",r)},u(e.locales[r]),11,ge)],8,pe))),128))])]))])])])])}const ye=m(Z,[["render",be]]);const fe={name:"App",mixins:[g],components:{Header:ye},data(){return{email:{}.VITE_COMPANY_EMAIL,phone:{}.VITE_COMPANY_PHONE,backgroundPath:{}.VITE_BACKGROUND_PATH}},created(){this.fetchUser()},methods:{filterRoutes(){return!(["/login","/"].includes(this.$route.path)||this.$route.path.includes("/edit")||this.$route.path.includes("/create"))},formatPhone(){return this.phone.replace(/\D+/g,"").replace(/(\d{1})(\d{3})(\d{3})(\d{2})(\d{2})/,"+$1 ($2) $3-$4-$5")}}},_e=e=>(L("data-v-9d5dbeff"),e=e(),R(),e),$e=["src"],ve={class:"position-absolute top-0 start-0 w-100 h-100"},Pe=_e(()=>i("br",null,null,-1)),Ee={key:1,class:"position-absolute bottom-0 start-0 w-100 d-flex flex-column gap-2 p-4"},ke=["href"],we=["href"];function Se(e,n,t,c,a,d){const o=h("Header"),r=h("router-view");return s(),l(w,null,[$(o,{class:"flex-grow-0",style:{"z-index":"2"},onLocaleChanged:e.changeLocale},null,8,["onLocaleChanged"]),i("div",{class:f(["w-100 position-relative overflow-hidden",{"bg-black":e.$route.path==="/"}]),style:{height:"calc(100% - 56px)"}},[e.$route.path==="/"?(s(),l("img",{key:0,id:"background",src:a.backgroundPath,class:"position-absolute bottom-0 start-0 object-fit-cover opacity-75",style:{"z-index":"0"}},null,8,$e)):p("",!0),i("div",ve,[Pe,i("div",{class:f(["container",{"bg-white rounded pt-2":d.filterRoutes()}]),style:{"z-index":"3"}},[$(r,null,{default:k(({Component:_,route:b})=>[$(q,{name:b.meta.transition||"fade"},{default:k(()=>[(s(),y(A(_),{key:b.path}))]),_:2},1032,["name"])]),_:1})],2)]),e.$route.path==="/"?(s(),l("div",Ee,[i("a",{id:"email",class:"title text-white",style:{"text-decoration":"none"},href:`mailto:${a.email}`},"üìß "+u(a.email),9,ke),i("a",{id:"phone",class:"title text-white",style:{"text-decoration":"none"},href:`tel:${a.phone}`},"üìû "+u(d.formatPhone()),9,we)])):p("",!0)],2)],64)}const Te=m(fe,[["render",Se],["__scopeId","data-v-9d5dbeff"]]),P={data(){return{data:{},actions:{Creation:{status:201,method:"POST"},Updation:{status:202,method:"PUT"}}}},methods:{validated(e){let n=!0;this.data={};for(let t=0;t<e.fillables.length;t++)e.fillables[t].hasError=!1,e.fillables[t].feedbackMessage=null,this.data[e.fillables[t].codename]=e[e.fillables[t].codename],e.fillables[t].hasOwnProperty("required")&&e.fillables[t].required===!0&&!e[e.fillables[t].codename]?(e.fillables[t].hasError=!0,e.fillables[t].feedbackMessage=this.$t("This field is required"),n=!1):e.fillables[t].hasOwnProperty("regex")&&(new RegExp(e.fillables[t].regex).test(e[e.fillables[t].codename])||(e.fillables[t].hasError=!0,e.fillables[t].feedbackMessage=e.fillables[t].validationMessage,n=!1));return n},populateData(e,n,t){localStorage.getItem(`${n.route}-to-edit`)!==null?(t=JSON.parse(localStorage.getItem(`${n.route}-to-edit`)),localStorage.removeItem(`${n.route}-to-edit`),this.syncEntity(n,t)):(this.loading=!0,axios({method:"GET",url:`/api/${n.route}/${e.params.id}`,withCredentials:!0,headers:{Authorization:`Bearer ${this.getUserToken()}`}}).then(c=>{t=c.data.data,t.id=e.params.id,this.syncEntity(n,t)}).catch(c=>{console.log(c)}).then(c=>{this.loading=!1}))},syncEntity(e,n){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},onSubmit(e){this.alert.type=null,this.alert.message=null,this.validated(this.entity)&&(this.loading=!0,axios({method:this.actions[e].method,url:e==="Creation"?`/api/${this.entity.route}`:`/api/${this.entity.route}/${this.data.id}`,data:this.data,withCredentials:!0,headers:{Authorization:`Bearer ${this.getUserToken()}`}}).then(n=>{n.status===this.actions[e].status&&n.data.success===!0?(this.alert.type="text-success",this.alert.message=this.$t(`${e} successful`)):(this.alert.type="text-danger",this.alert.message=this.$t(`${e} failed`))}).catch(n=>{if(this.alert.type="text-danger",n.response.status===422){for(let t=0;t<this.entity.fillables.length;t+=1)n.response.data.errors.hasOwnProperty(this.entity.fillables[t].codename)&&(this.entity.fillables[t].hasError=!0,this.entity.fillables[t].feedbackMessage=this.$t(n.response.data.errors[this.entity.fillables[t].codename][0]));this.alert.message=this.$t("Invalid data provided")}else this.alert.message=this.$t("Server side error, contact vendor")}).then(n=>{this.loading=!1}))}}};const Ie={name:"Autocomplete",mixins:[g],props:{entity:{type:Object,required:!0},fillable:{type:Object,required:!0},loading:Boolean,disabled:Boolean},data(){return{options:null,load:null}},created(){this.load=this.loading},methods:{getId(e){return e.toString().padStart(this.entity.pad,"0")},getSelectedItemsDisplay(){return this.isEntityPopulated()?this.entity[this.fillable.autocomplete.for][this.fillable.autocomplete.displayField]:null},isEntityPopulated(){return this.entity.hasOwnProperty(this.fillable.autocomplete.for)&&this.entity[this.fillable.autocomplete.for].hasOwnProperty(this.fillable.autocomplete.displayField)},onKeyup(){this.fillable.autocomplete.hasOwnProperty("minChars")&&this.entity[this.fillable.autocomplete.for][this.fillable.autocomplete.displayField].length<=this.fillable.autocomplete.minChars||this.loadOptions()},loadOptions(){this.load=!0,this.options=null;const e=this.fillable.hasOwnProperty("dependsOn")?this.entity[this.fillable.dependsOn]:null;axios({method:this.fillable.autocomplete.method,url:this.fillable.autocomplete.link,params:{parent:e,search:this.entity[this.fillable.autocomplete.for][this.fillable.autocomplete.displayField]},withCredentials:!0,headers:{Authorization:`Bearer ${this.getUserToken()}`}}).then(n=>{console.log("response",n),this.options=n.data.data}).catch(n=>{console.log("error",n),this.alert.type="text-danger",this.alert.message=this.$t("Server side error, contact vendor")}).then(n=>{this.load=!1})},onSelect(e){this.entity[this.fillable.autocomplete.for][this.fillable.autocomplete.displayField]=e[this.fillable.autocomplete.displayField],this.entity[this.fillable.codename]=e[this.fillable.autocomplete.selectionField],this.options=null},getMarkedDisplay(e){return e[this.fillable.autocomplete.displayField].replaceAll(this.entity[this.fillable.autocomplete.for][this.fillable.autocomplete.displayField],`<b>${this.entity[this.fillable.autocomplete.for][this.fillable.autocomplete.displayField]}</b>`)}}},Ce={class:"position-relative"},De=["id"],Ne={class:"input-group has-validation"},Oe=["id","pattern","required","disabled"],Fe={key:0,class:"position-absolute w-100 shadow rounded-3 top-100 left-0 mt-1 autocomplete-wrapper"},xe={class:"list-group autocomplete-options"},qe=["onClick"],Ae={class:"text-muted font-monospace fw-bold"},Le=["innerHTML"];function Re(e,n,t,c,a,d){return s(),l("div",Ce,[S(i("input",{type:"hidden",id:t.fillable.codename,"onUpdate:modelValue":n[0]||(n[0]=o=>t.entity[t.fillable.codename]=o)},null,8,De),[[I,t.entity[t.fillable.codename]]]),i("div",Ne,[d.isEntityPopulated?S((s(),l("input",{key:0,class:f(["form-control",{"is-invalid":t.fillable.hasError,"is-valid":t.fillable.hasError===!1}]),type:"text",id:`${t.fillable.codename}_display`,onKeyup:n[1]||(n[1]=(...o)=>d.onKeyup&&d.onKeyup(...o)),onClick:n[2]||(n[2]=(...o)=>d.loadOptions&&d.loadOptions(...o)),"onUpdate:modelValue":n[3]||(n[3]=o=>t.entity[t.fillable.autocomplete.for][t.fillable.autocomplete.displayField]=o),pattern:t.fillable.regex,required:{true:t.fillable.hasOwnProperty("required")},disabled:t.loading||t.disabled},null,42,Oe)),[[I,t.entity[t.fillable.autocomplete.for][t.fillable.autocomplete.displayField]]]):p("",!0),t.fillable.feedbackMessage?(s(),l("div",{key:1,class:f({"invalid-feedback":t.fillable.hasError,"valid-feedback":t.fillable.hasError===!1})},u(t.fillable.feedbackMessage),3)):p("",!0)]),a.options?(s(),l("div",Fe,[i("div",xe,[(s(!0),l(w,null,T(a.options,(o,r)=>(s(),l("a",{class:"list-group-item list-group-item-action",key:r,onClick:C(_=>d.onSelect(o),["prevent"])},[i("span",Ae,u(d.getId(o[t.fillable.autocomplete.selectionField])),1),i("span",{class:"text-left mx-1",innerHTML:d.getMarkedDisplay(o)},null,8,Le)],8,qe))),128))])])):p("",!0)])}const Ue=m(Ie,[["render",Re],["__scopeId","data-v-93b6c662"]]),Me={name:"Form",components:{Autocomplete:Ue},props:{entity:{type:Object,required:!0},submit:{type:String,required:!0},alert:{type:Object,required:!0},loading:Boolean},methods:{onSubmit(){this.$emit("onSubmit")},hasNoErrors(){for(const e in this.entity.fillables)if(e.hasError)return!1;return!0}}},Ve={class:"row justify-content-center"},Be={class:"col-12 col-md-6 col-lg-4 align-self-center bg-white pt-3 rounded-top"},ze={class:"fs-3 text-capitalize text-center mb-3"},Ge={class:"row justify-content-center"},He=["innerHTML"],Qe=["for"],Ke=["name","onUpdate:modelValue"],je={key:3,class:"input-group has-validation"},Ye=["type","name","id","onUpdate:modelValue","onKeyup","pattern","placeholder","required","disabled","aria-describedby"],Je=["id","onUpdate:modelValue","required","disabled","aria-describedby"],We=["id","innerHTML"],Ze={class:"d-flex gap-3"},Xe=["disabled"],et={key:0},tt={key:1},nt=["disabled"];function at(e,n,t,c,a,d){const o=h("Autocomplete");return s(),l("div",null,[i("div",Ve,[i("div",Be,[i("h1",ze,u(t.entity.label),1)])]),i("div",Ge,[i("form",{class:"col-12 col-md-6 col-lg-4 align-self-center bg-white pb-3 rounded-bottom",autocomplete:"off",onSubmit:n[1]||(n[1]=C((...r)=>d.onSubmit&&d.onSubmit(...r),["prevent"])),novalidate:""},[S(i("div",{class:f(["p-3 mb-3 border rounded bg-light",t.alert.type]),role:"alert",innerHTML:t.alert.message},null,10,He),[[U,t.alert.message!=null]]),(s(!0),l(w,null,T(t.entity.fillables,(r,_)=>(s(),l("div",{key:_,class:f({"mb-3":_<t.entity.fillables.length&&r.type!=="hidden"}),style:M({"display: none":r.type==="hidden"})},[r.type!=="hidden"?(s(),l("label",{key:0,class:"form-label w-100 text-capitalize",for:r.codename},u(r.title),9,Qe)):p("",!0),r.type==="autocomplete"?(s(),y(o,{key:1,entity:t.entity,fillable:r,loading:t.loading,disabled:r.hasOwnProperty("dependsOn")&&t.entity[r.dependsOn]===null},null,8,["entity","fillable","loading","disabled"])):p("",!0),r.type==="hidden"?S((s(),l("input",{key:2,type:"hidden",name:r.codename,"onUpdate:modelValue":b=>t.entity[r.codename]=b},null,8,Ke)),[[I,t.entity[r.codename]]]):(s(),l("div",je,[["text","email","password","number","date","tel","search","url","time","range","color"].includes(r.type)?S((s(),l("input",{key:0,class:f(["form-control",{"is-invalid":r.hasError,"is-valid":r.hasError===!1}]),type:r.type,name:r.codename,id:r.codename,"onUpdate:modelValue":b=>t.entity[r.codename]=b,onKeyup:b=>e.$emit("onKeyup",t.entity,r),pattern:r.regex,placeholder:r.placeholder,required:{true:r.hasOwnProperty("required")},disabled:t.loading,"aria-describedby":`${r.codename}Feedback`},null,42,Ye)),[[V,t.entity[r.codename]]]):p("",!0),r.type==="textarea"?S((s(),l("textarea",{key:1,class:f(["form-control",{"is-invalid":r.hasError}]),id:r.codename,"onUpdate:modelValue":b=>t.entity[r.codename]=b,required:{true:r.hasOwnProperty("required")},disabled:t.loading,"aria-describedby":`${r.codename}Feedback`},null,10,Je)),[[I,t.entity[r.codename]]]):p("",!0),r.feedbackMessage?(s(),l("div",{key:2,class:f({"invalid-feedback":r.hasError,"valid-feedback":r.hasError===!1}),id:`${r.codename}Feedback`,innerHTML:r.feedbackMessage},null,10,We)):p("",!0)]))],6))),128)),i("div",Ze,[i("button",{type:"submit",class:"btn btn-light",disabled:t.loading},[t.loading?(s(),l("span",et,u(e.$t("Loading"))+"... ",1)):(s(),l("span",tt,u(t.submit),1))],8,Xe),i("button",{class:"btn btn-light",disabled:t.loading,onClick:n[0]||(n[0]=C(r=>e.$router.go(),["prevent"]))},u(e.$t("Refresh")),9,nt)])],32)])])}const E=m(Me,[["render",at]]),rt={name:"Home",components:{Form:E},mixins:[P],data(){return{pad:parseInt({}.VITE_PAD_ID),pPad:parseInt({}.VITE_PAD_PARTNER_ID),sPad:parseInt({}.VITE_PAD_SUBPARTNER_ID),phone:"phone",email:"email",entity:{label:this.$t("Entry checking form"),fillables:[{codename:"entry",type:"text",title:this.$t("Entry Code"),placeholder:`######-${"".padStart(this.pPad,"#")}-${"".padStart(this.sPad,"#")}-${"".padStart(this.pad,"#")}`,required:!0,regex:`^[0-9]{6}[-]?[0-9]{${this.pPad}}[-]?[0-9]{${this.sPad}}[-]?[0-9]{${this.pad}}$`,replacePattern:"$1-$2-$3-$4",validationMessage:this.$t("Invalid entry code format")}],entry:null},submit:this.$t("Check"),loading:!1,alert:{type:null,message:null}}},methods:{onKeyup(){let e=this.entity.entry;if(e.length>=6+this.pPad+this.sPad+this.pad&&this.containsOnlyNumbers(e)){const n=`(\\d{6})(\\d{${this.pPad}})(\\d{${this.sPad}})(\\d{${this.pad}})`;e=e.replace(/\D+/g,"").replace(new RegExp(n),"$1-$2-$3-$4"),this.entity.entry=e}},containsOnlyNumbers(e){return/^\d+$/.test(e)},onSubmit(){this.alert.type=null,this.alert.message=null,this.validated(this.entity)&&(this.loading=!0,axios({method:"POST",url:"/api/partner-ids/check",data:this.data}).then(e=>{console.log("response",e),e.status===200&&e.data.answer==="correct"?(this.alert.type="text-success",this.alert.message=`${this.$t("Entry code is valid",{company:{}.VITE_BRAND_TITLE})}
                <br><i>${this.$t("Subpartner")}</i>: <b>${e.data.details.subpartner.name}</b>`):(this.alert.type="text-danger",this.alert.message=this.$t("Entry code is invalid"))}).catch(e=>{console.log("error",e),this.alert.type="text-danger",this.alert.message=this.$t("Server side error, contact vendor")}).then(e=>{this.loading=!1}))}},created(){this.entity.fillables[0].regex=`^[0-9]{6}[-]?[0-9]{${this.pPad}}[-]?[0-9]{${this.sPad}}[-]?[0-9]{${this.pad}}$`,this.entity.fillables[0].placeholder=`######-${"".padStart(this.pPad,"#")}-${"".padStart(this.sPad,"#")}-${"".padStart(this.pad,"#")}`,this.$route.query.check&&(this.entity.entry=this.$route.query.check,this.onSubmit())}};function st(e,n,t,c,a,d){const o=h("Form");return s(),y(o,{id:"home-form",entity:a.entity,submit:a.submit,alert:a.alert,loading:a.loading,onOnSubmit:d.onSubmit,onOnKeyup:d.onKeyup},null,8,["entity","submit","alert","loading","onOnSubmit","onOnKeyup"])}const it=m(rt,[["render",st]]),D={data(){return{currentPage:1,loading:!1}},watch:{$route:"fetchPage"},mounted(){this.fetchPage()},methods:{newEntity(){this.goTo(`/${this.entity.route}/create`)},onNext(){this.currentPage=this.currentPage>=this.entity.page.last_page?this.entity.page.last_page-1:this.currentPage,this.goTo({path:`/${this.entity.route}`,query:{page:this.currentPage+=1}})},onPrev(){this.currentPage=this.currentPage<=0?2:this.currentPage,this.goTo({path:`/${this.entity.route}`,query:{page:this.currentPage-=1}})},onEdit(e){localStorage.setItem(`${this.entity.route}-to-edit`,JSON.stringify(e)),this.goTo({path:`/${this.entity.route}/edit/${e.id}`})},onSearch(e){this.currentPage=1,this.goTo({path:`/${this.entity.route}`,query:{search:e}})},onDelete(e){this.sendDeleteRequest(e)},sendDeleteRequest(e){axios({method:"DELETE",url:`/api/${this.entity.route}/${e.id}`,withCredentials:!0,headers:{Authorization:`Bearer ${this.getUserToken()}`}}).then(n=>{this.fetchPage()}).catch(n=>{console.log(n),n.response.status===401&&(this.eraseUserData(),this.goTo("/login"))}).then(n=>{this.loading=!1})},fetchPage(){this.loading=!0,axios({method:"GET",url:`/api/${this.entity.route}`,params:{page:this.$route.query.page,search:this.$route.query.search},withCredentials:!0,headers:{Authorization:`Bearer ${this.getUserToken()}`}}).then(e=>{this.entity.page=e.data,this.currentPage=e.data.current_page}).catch(e=>{console.log(e),e.response.status===401&&(this.eraseUserData(),this.goTo("/login"))}).then(e=>{this.loading=!1})}}},ot={name:"SearchForm",data(){return{input:null}},mounted(){this.input=this.$route.query.search}},lt={class:"input-group"},dt=["placeholder"],ut={class:"btn btn-outline-secondary text-dark",type:"submit",id:"button-addon2"};function ct(e,n,t,c,a,d){return s(),l("form",{onSubmit:n[1]||(n[1]=C(o=>e.$emit("onSearch",a.input),["prevent"]))},[i("div",lt,[S(i("input",{type:"text",class:"form-control",placeholder:e.$t("Search"),"aria-describedby":"button-addon2","onUpdate:modelValue":n[0]||(n[0]=o=>a.input=o)},null,8,dt),[[I,a.input]]),i("button",ut,u(e.$t("Search")),1)])],32)}const mt=m(ot,[["render",ct]]),ht={name:"Table",mixins:[g],props:{title:String,entity:{required:!0,type:Object},loading:Boolean},components:{SearchForm:mt},methods:{getId(e,n){return(this.entity.withIndex?n+this.entity.page.from:e.id).toString().padStart(this.entity.pad,"0")},hasPrevPage(){return this.entity.page.prev_page_url!==null},hasNextPage(){return this.entity.page.next_page_url!==null},onSearch(e){this.$emit("onSearch",e)},onDelete(e){confirm(`${this.$t("You are deleting an item from")}: ${this.$t(this.toTitleCase(this.entity.route))}. ${this.$t("This will delete all it's child entries as well if there are. Are you sure")}?`)&&this.$emit("on-delete",e)},getPagination(){return parseInt({}.VITE_PAGINATION_SIZE)},callFunction(e,n,t){return typeof n[e]=="function"?n[e](t):null}}},pt={class:"fs-2 text-capitalize text-center text-md-start"},gt={class:"d-flex flex-column flex-md-row align-items-center justify-content-between gap-2 mb-2"},bt={key:0,class:"d-flex flex-row align-items-center gap-2","aria-label":"Page navigation"},yt={class:"pagination my-0"},ft={class:"table-responsive mb-2"},_t={key:0,class:"table table-hover text-nowrap table-sm align-middle"},$t={key:0,scope:"col"},vt={key:1,scope:"col"},Pt={scope:"col"},Et={class:"fw-bold font-monospace"},kt=["innerHTML"],wt=["onClick"],St=["onClick"],Tt={key:1},It={key:2};function Ct(e,n,t,c,a,d){const o=h("search-form");return s(),l("div",null,[i("h1",pt,u(t.entity.label),1),i("div",gt,[i("button",{class:"btn btn-sm btn-light",onClick:n[0]||(n[0]=r=>e.$emit("new-entity",t.entity.route))},u(e.$t("Add New")),1),$(o,{onOnSearch:d.onSearch},null,8,["onOnSearch"]),t.entity.page!==null&&t.entity.page.to>0?(s(),l("div",bt,[i("span",null,u(t.entity.page.from)+" - "+u(t.entity.page.to)+" / "+u(t.entity.page.total),1),i("ul",yt,[i("li",{class:f(["page-item",{disabled:!d.hasPrevPage()}])},[i("a",{class:f(["page-link fw-bold",{"text-dark":d.hasPrevPage()}]),onClick:n[1]||(n[1]=r=>e.$emit("on-prev"))},"<",2)],2),i("li",{class:f(["page-item",{disabled:!d.hasNextPage()}])},[i("a",{class:f(["page-link fw-bold",{"text-dark":d.hasNextPage()}]),onClick:n[2]||(n[2]=r=>e.$emit("on-next"))},">",2)],2)])])):p("",!0)]),i("div",ft,[t.entity.page!==null&&t.entity.page.to>0?(s(),l("table",_t,[i("thead",null,[i("tr",null,[t.entity.withIndex?(s(),l("th",$t," ‚Ññ ")):(s(),l("th",vt," ID ")),(s(!0),l(w,null,T(t.entity.fillables,(r,_)=>(s(),l("th",{scope:"col",key:_},u(r.label),1))),128)),i("th",Pt,u(e.$t("Actions")),1)])]),i("tbody",null,[(s(!0),l(w,null,T(t.entity.page.data,(r,_)=>(s(),l("tr",{key:_},[i("td",Et,u(d.getId(r,_)),1),(s(!0),l(w,null,T(t.entity.fillables,(b,F)=>(s(),l("td",{key:F},[b.hasOwnProperty("raw")&&b.data==="raw"?(s(),l("span",{key:0,class:f(d.callFunction("class",b,r)),innerHTML:b.raw(r,_)},null,10,kt)):(s(),l(w,{key:1},[v(u(r[b.name]),1)],64))]))),128)),i("td",null,[i("a",{class:"btn btn-light btn-sm",onClick:b=>e.$emit("on-edit",r)},u(e.$t("Edit")),9,wt),i("a",{class:"btn btn-light btn-sm mx-2 text-danger",onClick:b=>d.onDelete(r)},u(e.$t("Delete")),9,St)])]))),128))])])):t.loading?(s(),l("p",Tt,u(e.$t("Loading data"))+"...",1)):(s(),l("h6",It,[i("i",null,u(e.$t("No entries")),1)]))])])}const N=m(ht,[["render",Ct]]),Dt={name:"Partners",components:{Table:N},mixins:[g,D],data(){return{entity:{label:this.$t("Partners"),route:"partners",pad:parseInt({}.VITE_PAD_PARTNER_ID),fillables:[{label:this.$t("Name"),name:"name",classes:"col-4 col-sm-6 col-lg-8",dataClasses:"py-1 text-truncate"},{label:this.$t("Created at"),data:"raw",raw:e=>e.created_at.replaceAll("T"," ").substring(0,16)}],page:null}}}};function Nt(e,n,t,c,a,d){const o=h("Table");return s(),y(o,{entity:a.entity,loading:e.loading,onNewEntity:e.newEntity,onOnNext:e.onNext,onOnPrev:e.onPrev,onOnEdit:e.onEdit,onOnDelete:e.onDelete,onOnSearch:e.onSearch},null,8,["entity","loading","onNewEntity","onOnNext","onOnPrev","onOnEdit","onOnDelete","onOnSearch"])}const Ot=m(Dt,[["render",Nt]]),Ft={name:"Subpartners",components:{Table:N},mixins:[g,D],data(){return{entity:{label:this.$t("Subpartners"),route:"subpartners",pad:{}.VITE_PAD_SUBPARTNER_ID,fillables:[{label:this.$t("Name"),name:"name",classes:"col-4 col-sm-6 col-lg-8",dataClasses:"py-1 text-truncate"},{label:this.$t("Partner"),raw:e=>e.partner.name,data:"raw"},{label:this.$t("Created at"),raw:e=>e.created_at.replaceAll("T"," ").substring(0,16),data:"raw"}],page:null}}}};function xt(e,n,t,c,a,d){const o=h("Table");return s(),y(o,{entity:a.entity,loading:e.loading,onNewEntity:e.newEntity,onOnNext:e.onNext,onOnPrev:e.onPrev,onOnEdit:e.onEdit,onOnDelete:e.onDelete,onOnSearch:e.onSearch},null,8,["entity","loading","onNewEntity","onOnNext","onOnPrev","onOnEdit","onOnDelete","onOnSearch"])}const qt=m(Ft,[["render",xt]]),At={name:"PartnerIDs",components:{Table:N},mixins:[g,D],data(){return{entity:{pad:{}.VITE_PAD_ID,pPad:{}.VITE_PAD_PARTNER_ID,sPad:{}.VITE_PAD_SUBPARTNER_ID,label:this.$t("Partner IDs"),route:"partner-ids",fillables:[{label:this.$t("Partner"),raw:e=>e.subpartner.partner.name,data:"raw"},{label:this.$t("Lot number"),raw:e=>e.number.lotNumber,data:"raw"},{label:this.$t("Procurement number"),raw:e=>e.number.procurementNumber,data:"raw"},{label:this.$t("Subpartner"),raw:e=>e.subpartner.name,data:"raw"},{label:this.$t("Full ID"),raw:e=>{const n=e.created_at.replace(/-/g,"").substring(2,8)+"-"+this.iD(e.subpartner.partner_id,this.entity.pPad)+"-"+this.iD(e.subpartner_id,this.entity.sPad)+"-"+this.iD(e.id,this.entity.pad);return`<a href="/generate-qr-code/${n}" target='_blank'
                            title="${this.$t("Click to generate QR Code")}"
                            style="color:inherit;text-decoration:inherit"
                            >${n}</a>`},data:"raw",class:e=>{const n=new Date,t=new Date(new Date().setDate(n.getDate()-30)),c=new Date(e.created_at.substring(0,10));let a="font-monospace text-success";return c<t&&(a="font-monospace text-danger"),a}}],page:null}}},methods:{iD(e,n){return e.toString().padStart(n,"0")}}};function Lt(e,n,t,c,a,d){const o=h("Table");return s(),y(o,{entity:a.entity,loading:e.loading,onNewEntity:e.newEntity,onOnNext:e.onNext,onOnPrev:e.onPrev,onOnEdit:e.onEdit,onOnDelete:e.onDelete,onOnSearch:e.onSearch},null,8,["entity","loading","onNewEntity","onOnNext","onOnPrev","onOnEdit","onOnDelete","onOnSearch"])}const Rt=m(At,[["render",Lt]]),Ut={components:{MyForm:E},mixins:[g,P],data(){return{entity:{label:this.$t("Login Form"),fillables:[{codename:"email",type:"email",title:this.$t("Email"),required:!0,regex:"^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",validationMessage:this.$t("Invalid email address")},{codename:"password",type:"password",title:this.$t("Password"),required:!0,regex:"^.{8,}",validationMessage:this.$t("Password must have a length of 8")}],email:null,password:null},submit:this.$t("Login"),loading:!1,alert:{type:null,message:null}}},methods:{onSubmit(){this.alert.type=null,this.alert.message=null,this.validated(this.entity)&&(this.loading=!0,axios.get("/sanctum/csrf-cookie").then(e=>{axios({method:"POST",url:"/api/login",data:this.data,withCredentials:!0}).then(n=>{n.status===200?(this.alert.type="text-success",this.alert.message=this.$t("Logged in successfully, proceeding")+"...",this.authenticate(n.data.data),this.goTo("/partners")):(this.alert.type="text-danger",this.alert.message=this.$t("Invalid credentials, try again"))}).catch(n=>{console.log("error",n),this.alert.type="text-danger",this.alert.message=this.$t("Invalid credentials, try again")}).then(n=>{this.loading=!1})}))}},created(){this.authenticated()&&this.goTo("/partners")}};function Mt(e,n,t,c,a,d){const o=h("MyForm");return s(),y(o,{entity:a.entity,submit:a.submit,alert:a.alert,loading:a.loading,onOnSubmit:d.onSubmit},null,8,["entity","submit","alert","loading","onOnSubmit"])}const Vt=m(Ut,[["render",Mt]]),Bt={mixins:[g],data(){return{loading:!1}},methods:{sendLogoutRequest(){this.loading=!0,axios({method:"POST",url:"/api/logout",withCredentials:!0,headers:{Authorization:`Bearer ${this.getUserToken()}`}}).then(e=>{console.log(e)}).catch(e=>{console.log(e)}).then(e=>{this.loading=!1,this.eraseUserData(),this.goTo("/login")})}},created(){this.sendLogoutRequest()}},zt={class:"container"},Gt={class:"text-center"},Ht={key:0};function Qt(e,n,t,c,a,d){return s(),l("div",zt,[i("p",Gt,[a.loading?(s(),l("span",Ht,u(e.$t("Logging out"))+"...",1)):p("",!0)])])}const Kt=m(Bt,[["render",Qt]]),jt={},Yt={class:"container"};function Jt(e,n){return s(),l("div",Yt,[i("h2",null,u(e.$t("Not Found")),1),i("p",null,u(e.$t("Woops! Looks like the page you requested cannot be found."))+"'",1)])}const Wt=m(jt,[["render",Jt]]),Zt={components:{Form:E},name:"PartnerIDEdit",mixins:[g,P],data(){return{entity:{label:this.$t("Partner ID Edit Form"),route:"partner-ids",pad:parseInt({}.VITE_PAD_SUBPARTNER_ID),fillables:[{codename:"id",type:"hidden",required:!0},{codename:"partner_id",type:"autocomplete",autocomplete:{for:"partner",selectionField:"id",displayField:"name",minChars:3,link:"/api/partners",method:"GET"},title:this.$t("Partner"),validationMessage:this.$t("This field is required")},{codename:"number_id",type:"autocomplete",dependsOn:"partner_id",autocomplete:{for:"number",selectionField:"id",displayField:"lotNumber",minChars:3,link:"/api/numbers",method:"GET"},title:this.$t("Number"),required:!0,validationMessage:this.$t("This field is required")},{codename:"subpartner_id",type:"autocomplete",dependsOn:"partner_id",autocomplete:{for:"subpartner",selectionField:"id",displayField:"name",minChars:3,link:"/api/subpartners",method:"GET"},title:this.$t("Subpartner"),required:!0,validationMessage:this.$t("This field is required")},{codename:"comments",type:"textarea",title:this.$t("Comments")}],comments:null,partner_id:null,partner:{name:null},subpartner_id:null,subpartner:{name:null},number_id:null,number:{lotNumber:null}},submit:this.$t("Update"),loading:!1,alert:{type:null,message:null},data:null}},created(){this.populateData(this.$route,this.entity,this.data)}};function Xt(e,n,t,c,a,d){const o=h("Form");return s(),y(o,{entity:a.entity,submit:a.submit,alert:a.alert,loading:a.loading,onOnSubmit:n[0]||(n[0]=r=>e.onSubmit("Updation"))},null,8,["entity","submit","alert","loading"])}const en=m(Zt,[["render",Xt]]),tn={name:"PartnerIDCreate",components:{Form:E},mixins:[g,P],data(){return{entity:{label:this.$t("Partner ID Create Form"),route:"partner-ids",pad:parseInt({}.VITE_PAD_SUBPARTNER_ID),fillables:[{codename:"partner_id",type:"autocomplete",autocomplete:{for:"partner",selectionField:"id",displayField:"name",minChars:3,link:"/api/partners",method:"GET"},title:this.$t("Partner"),required:!0,validationMessage:this.$t("This field is required")},{codename:"number_id",type:"autocomplete",dependsOn:"partner_id",autocomplete:{for:"number",selectionField:"id",displayField:"lotNumber",minChars:3,link:"/api/numbers",method:"GET"},title:this.$t("Number"),required:!0,validationMessage:this.$t("This field is required")},{codename:"subpartner_id",type:"autocomplete",dependsOn:"partner_id",autocomplete:{for:"subpartner",selectionField:"id",displayField:"name",minChars:3,link:"/api/subpartners",method:"GET"},title:this.$t("Subpartner"),required:!0,validationMessage:this.$t("This field is required")},{codename:"comments",type:"textarea",title:this.$t("Comments")}],comments:null,partner_id:null,partner:{name:null},subpartner_id:null,subpartner:{name:null},number_id:null,number:{lotNumber:null}},submit:this.$t("Create"),loading:!1,alert:{type:null,message:null},data:null}}};function nn(e,n,t,c,a,d){const o=h("Form");return s(),y(o,{entity:a.entity,submit:a.submit,alert:a.alert,loading:a.loading,onOnSubmit:n[0]||(n[0]=r=>e.onSubmit("Creation"))},null,8,["entity","submit","alert","loading"])}const an=m(tn,[["render",nn]]),rn={name:"PartnerEdit",components:{Form:E},mixins:[g,P],data(){return{entity:{label:this.$t("Partner Edit Form"),route:"partners",fillables:[{codename:"id",type:"hidden",required:!0},{codename:"name",type:"text",title:this.$t("Name"),required:!0,validationMessage:this.$t("This field is required")}],name:null},submit:this.$t("Update"),loading:!1,alert:{type:null,message:null},data:null}},created(){this.populateData(this.$route,this.entity,this.data)}};function sn(e,n,t,c,a,d){const o=h("Form");return s(),y(o,{entity:a.entity,submit:a.submit,alert:a.alert,loading:a.loading,onOnSubmit:n[0]||(n[0]=r=>e.onSubmit("Updation"))},null,8,["entity","submit","alert","loading"])}const on=m(rn,[["render",sn]]),ln={name:"PartnerCreate",components:{Form:E},mixins:[g,P],data(){return{entity:{label:this.$t("Partner Create Form"),route:"partners",fillables:[{codename:"name",type:"text",title:this.$t("Name"),required:!0,validationMessage:this.$t("This field is required")}],name:null},submit:this.$t("Create"),loading:!1,alert:{type:null,message:null},data:null}}};function dn(e,n,t,c,a,d){const o=h("Form");return s(),y(o,{entity:a.entity,submit:a.submit,alert:a.alert,loading:a.loading,onOnSubmit:n[0]||(n[0]=r=>e.onSubmit("Creation"))},null,8,["entity","submit","alert","loading"])}const un=m(ln,[["render",dn]]),cn={name:"SubpartnerEdit",components:{Form:E},mixins:[g,P],data(){return{entity:{label:this.$t("Subpartner Edit Form"),route:"subpartners",pad:parseInt({}.VITE_PAD_PARTNER_ID),fillables:[{codename:"id",type:"hidden",required:!0},{codename:"name",type:"text",title:this.$t("Name"),required:!0,validationMessage:this.$t("This field is required")},{codename:"partner_id",type:"autocomplete",autocomplete:{for:"partner",selectionField:"id",displayField:"name",minChars:3,link:"/api/partners",method:"GET"},title:this.$t("Partner"),required:!0,validationMessage:this.$t("This field is required")}],name:null,partner_id:null,partner:{name:null}},submit:this.$t("Update"),loading:!1,alert:{type:null,message:null},data:null}},created(){this.populateData(this.$route,this.entity,this.data)}};function mn(e,n,t,c,a,d){const o=h("Form");return s(),y(o,{entity:a.entity,submit:a.submit,alert:a.alert,loading:a.loading,onOnSubmit:n[0]||(n[0]=r=>e.onSubmit("Updation"))},null,8,["entity","submit","alert","loading"])}const hn=m(cn,[["render",mn]]),pn={components:{Form:E},name:"SubpartnerCreate",mixins:[g,P],data(){return{entity:{label:this.$t("Subpartner Create Form"),route:"subpartners",pad:parseInt({}.VITE_PAD_SUBPARTNER_ID),fillables:[{codename:"name",type:"text",title:this.$t("Name"),required:!0,validationMessage:this.$t("This field is required")},{codename:"partner_id",type:"autocomplete",autocomplete:{for:"partner",selectionField:"id",displayField:"name",minChars:3,link:"/api/partners",method:"GET"},title:this.$t("Partner"),required:!0,validationMessage:this.$t("This field is required")}],name:null,comments:null,partner_id:null,partner:{name:null}},submit:this.$t("Create"),loading:!1,alert:{type:null,message:null},data:null}}};function gn(e,n,t,c,a,d){const o=h("Form");return s(),y(o,{entity:a.entity,submit:a.submit,alert:a.alert,loading:a.loading,onOnSubmit:n[0]||(n[0]=r=>e.onSubmit("Creation"))},null,8,["entity","submit","alert","loading"])}const bn=m(pn,[["render",gn]]),yn={name:"Numbers",components:{Table:N},mixins:[g,D],data(){return{entity:{label:this.$t("Numbers"),route:"numbers",pad:parseInt({}.VITE_PAD_PARTNER_ID),fillables:[{label:this.$t("Partner"),raw:e=>e.partner.name,data:"raw"},{label:this.$t("Lot number"),name:"lotNumber"},{label:this.$t("Procurement number"),name:"procurementNumber"},{label:this.$t("Created at"),data:"raw",raw:e=>e.created_at.replaceAll("T"," ").substring(0,16)}],page:null}}}};function fn(e,n,t,c,a,d){const o=h("Table");return s(),y(o,{entity:a.entity,loading:e.loading,onNewEntity:e.newEntity,onOnNext:e.onNext,onOnPrev:e.onPrev,onOnEdit:e.onEdit,onOnDelete:e.onDelete,onOnSearch:e.onSearch},null,8,["entity","loading","onNewEntity","onOnNext","onOnPrev","onOnEdit","onOnDelete","onOnSearch"])}const _n=m(yn,[["render",fn]]),$n={methods:{onKeyup(e,n){n.hasOwnProperty("preValidation")&&n.preValidation.hasOwnProperty("minChars")&&e[n.codename].length<=n.preValidation.minChars||this.preValidate(e,n)},preValidate(e,n){n.hasError=!1,n.feedbackMessage=null,axios({method:n.preValidation.method,url:n.preValidation.link,params:{filterBy:n.codename,search:e[n.codename]},withCredentials:!0,headers:{Authorization:`Bearer ${this.getUserToken()}`}}).then(t=>{console.log("response",t),n.preValidation.message(t.data.data,e[n.codename],n)}).catch(t=>{console.log("error",t),this.alert.type="text-danger",this.alert.message=this.$t("Server side error, contact vendor")}).then(t=>{})}}},vn={name:"NumberCreate",components:{Form:E},mixins:[g,P,$n],data(){return{entity:{label:this.$t("Number Create Form"),route:"numbers",fillables:[{codename:"partner_id",type:"autocomplete",autocomplete:{for:"partner",selectionField:"id",displayField:"name",minChars:8,link:"/api/partners",method:"GET"},title:this.$t("Partner"),required:!0,validationMessage:this.$t("This field is required")},{codename:"lotNumber",type:"text",title:this.$t("Lot number"),required:!0,validationMessage:this.$t("This field is required"),preValidation:{link:"/api/numbers",method:"GET",minChars:3,message:(e,n,t)=>{e.length>1?(t.feedbackMessage=`${this.$t("Already in use by")} <a target="_blank"
                  href="/numbers?search=${n}&filterBy=lotNumber">${e.length} ${this.$t("numbers")}</a>`,t.hasError=!0):e.length===1&&(t.feedbackMessage=`${this.$t("Already in use by")} <a target="_blank"
                  href="/numbers/edit/${e[0].id}">${e[0].partner.name}</a>`,t.hasError=!0)}}},{codename:"procurementNumber",type:"text",title:this.$t("Procurement number"),required:!0,validationMessage:this.$t("This field is required"),preValidation:{link:"/api/numbers",method:"GET",minChars:3,message:(e,n,t)=>{e.length>1?(t.feedbackMessage=`${this.$t("Already in use by")} <a target="_blank"
                  href="/numbers?search=${n}&filterBy=procurementNumber">${e.length} ${this.$t("numbers")}</a>`,t.hasError=!0):e.length===1&&(t.feedbackMessage=`${this.$t("Already in use by")} <a target="_blank"
                  href="/numbers/edit/${e[0].id}">${e[0].partner.name}</a>`,t.hasError=!0)}}}],name:null,partner_id:null,partner:{name:null}},submit:this.$t("Create"),loading:!1,alert:{type:null,message:null},data:null}}};function Pn(e,n,t,c,a,d){const o=h("Form");return s(),y(o,{entity:a.entity,submit:a.submit,alert:a.alert,loading:a.loading,onOnSubmit:n[0]||(n[0]=r=>e.onSubmit("Creation")),onOnKeyup:e.onKeyup},null,8,["entity","submit","alert","loading","onOnKeyup"])}const En=m(vn,[["render",Pn]]),kn={name:"NumberEdit",components:{Form:E},mixins:[g,P],data(){return{entity:{label:this.$t("Number Edit Form"),route:"numbers",fillables:[{codename:"id",type:"hidden",required:!0},{codename:"partner_id",type:"autocomplete",autocomplete:{for:"partner",selectionField:"id",displayField:"name",minChars:3,link:"/api/partners",method:"GET"},title:this.$t("Partner"),required:!0,validationMessage:this.$t("This field is required")},{codename:"lotNumber",type:"text",title:this.$t("Lot number"),required:!0,validationMessage:this.$t("This field is required")},{codename:"procurementNumber",type:"text",title:this.$t("Procurement number"),required:!0,validationMessage:this.$t("This field is required")}],name:null,partner_id:null,partner:{name:null}},submit:this.$t("Update"),loading:!1,alert:{type:null,message:null},data:null}},created(){this.populateData(this.$route,this.entity,this.data)}};function wn(e,n,t,c,a,d){const o=h("Form");return s(),y(o,{entity:a.entity,submit:a.submit,alert:a.alert,loading:a.loading,onOnSubmit:n[0]||(n[0]=r=>e.onSubmit("Updation"))},null,8,["entity","submit","alert","loading"])}const Sn=m(kn,[["render",wn]]),Tn={name:"QRCodePage",components:{QRCodeVue3:H},data(){return{imageURL:{}.VITE_LOGO_URL}},methods:{getURL(){return`${{}.VITE_APP_URL}?check=${this.$route.params.fullId}`},prepareDownload(){try{const e=document.getElementById("download-link");e.href=document.getElementsByClassName("code-qr-img")[0].src,e.click()}catch(e){console.err("error",e)}}},mounted(){setTimeout(()=>{this.prepareDownload()},1e3)}},In={class:"fs-2 text-capitalize text-center text-md-start"},Cn={class:"font-monospace"},Dn={class:"p-4 d-flex flex-column align-items-center justify-content-center"},Nn=["download"];function On(e,n,t,c,a,d){const o=h("QRCodeVue3");return s(),l("div",null,[i("h1",In,[v(u(e.$t("QR Code"))+": ",1),i("span",Cn,u(e.$route.params.fullId),1)]),i("div",Dn,[i("a",{href:"",download:`qr-for-${e.$route.params.fullId}.png`,id:"download-link"},[$(o,{width:300,height:300,value:d.getURL(),qrOptions:{errorCorrectionLevel:"H"},image:a.imageURL,imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:5},dotsOptions:{type:"extra-rounded",color:"#000000"},cornersSquareOptions:{type:"extra-rounded",color:"#000000"},fileExt:"png",myclass:"my-code-qr",imgclass:"code-qr-img"},null,8,["value","image","imageOptions"])],8,Nn)])])}const Fn=m(Tn,[["render",On]]),O=z({history:G(),routes:[{path:"/",component:it,name:"home",meta:{public:!0}},{path:"/partners",component:Ot,name:"partners"},{path:"/partners/edit/:id",component:on,name:"partner.edit"},{path:"/partners/create",component:un,name:"partner.create"},{path:"/subpartners",component:qt,name:"subpartners"},{path:"/subpartners/edit/:id",component:hn,name:"subpartner.edit"},{path:"/subpartners/create",component:bn,name:"subpartner.create"},{path:"/numbers",component:_n,name:"numbers"},{path:"/numbers/create",component:En,name:"number.create"},{path:"/numbers/edit/:id",component:Sn,name:"number.edit"},{path:"/partner-ids",component:Rt,name:"partner.ids"},{path:"/partner-ids/edit/:id",component:en,name:"partner.id.edit"},{path:"/partner-ids/create",component:an,name:"partner.id.create"},{path:"/login",name:"auth.login",component:Vt,meta:{public:!0}},{path:"/logout",name:"auth.logout",component:Kt},{path:"/generate-qr-code/:fullId",name:"qr.code",component:Fn},{path:"/404",name:"404",component:Wt,meta:{public:!0}},{path:"/:catchAll(.*)",redirect:"/404",meta:{public:!0}}]});window._=Q;window.Popper=K;window.axios=j;window.axios.defaults.withCredentials=!0;const xn="–¢–µ–∫—Å–µ—Ä—É",qn="–ö–æ–º–ø–∞–Ω–∏—è",An="–ö—ñ—Ä—É",Ln="–ñ“Ø–∫—Ç–µ–ª—É–¥–µ",Rn="–ñ–∞“£–∞—Ä—Ç—É",Un="–ü–∞—Ä—Ç–Ω–µ—Ä–ª–∞—Ä",Mn="–°—É–±–ø–∞—Ä—Ç–Ω–µ—Ä–ª–∞—Ä",Vn="–®—ã“ì—É",Bn="–Ü–∑–¥–µ—É",zn="”ò—Ä–µ–∫–µ—Ç—Ç–µ—Ä",Gn="–¢“Ø–∑–µ—É",Hn="”®—à—ñ—Ä—É",Qn="–°–∞“õ—Ç–∞—É",Kn="–¢“Ø–∑–µ—É",jn="Email",Yn="“ö“±–ø–∏—è—Å”©–∑",Jn="–ü–∞—Ä—Ç–Ω–µ—Ä",Wn="–Ω–æ–º–µ—Ä–ª–µ—Ä",Zn="–ù–æ–º–µ—Ä–ª–µ—Ä",Xn="–ê—Ç—ã",ea="“ö–æ—Å—ã–º—à–∞",ta={"Entry checking form":"–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è–ª—ã“õ —Ö–∞—Ç—Ç–∞—Ä–¥—ã —Ç–µ–∫—Å–µ—Ä—É","Entry Code":"ID –Ω–æ–º–µ—Ä—ã","Invalid entry code format":"ID –Ω–æ–º–µ—Ä—ã–Ω—ã“£ —Ñ–æ—Ä–º–∞—Ç—ã –¥“±—Ä—ã—Å –µ–º–µ—Å",Check:xn,"Entry code is valid":"ID –Ω–æ–º–µ—Ä {company} –∫–æ–º–ø–∞–Ω–∏—è—Å—ã–Ω–∞–Ω –±–µ—Ä—ñ–ª–≥–µ–Ω–¥—ñ–≥—ñ–Ω —Ä–∞—Å—Ç–∞–π–¥—ã",Subpartner:qn,"Entry code is invalid":"–ë“±–ª ID –Ω–æ–º–µ—Ä –±—ñ–∑–¥—ñ“£ –∂“Ø–π–µ–º—ñ–∑–¥–µ —Ç—ñ—Ä–∫–µ–ª–º–µ–≥–µ–Ω","Server side error, contact vendor":"–ë–∞“ì–¥–∞—Ä–ª–∞–º–∞–ª—ã“õ “õ–∞—Ç–µ –∫–µ—Ç—Ç—ñ, —Ç–µ—Ö–Ω–∏–∫–∞–ª—ã“õ “õ–æ–ª–¥–∞—É“ì–∞ —Ö–∞–±–∞—Ä–ª–∞—Å—ã“£—ã–∑",Login:An,Loading:Ln,Refresh:Rn,Partners:Un,Subpartners:Mn,"Partner IDs":"–ü–∞—Ä—Ç–Ω–µ—Ä ID–ª–µ—Ä",Logout:Vn,Search:Bn,"Add New":"–ñ–∞“£–∞—Å—ã–Ω “õ–æ—Å—É",Actions:zn,Edit:Gn,Delete:Hn,Create:Qn,Update:Kn,"You are deleting an item from":"–°—ñ–∑ –∫–µ–ª–µ—Å—ñ–¥–µ–Ω –∂–∞–∑–±–∞–Ω—ã ”©—à—ñ—Ä–≥–µ–ª—ñ –∂–∞—Ç—Å—ã–∑","This will delete all it's child entries as well if there are. Are you sure":"–ë“±–ª–∞–π –æ–Ω—ã“£ –±–∞—Ä–ª—ã“õ —Ç–∞–±—ã–ª“ì–∞–Ω —Ç—É—ã–Ω–¥—ã –∂–∞–∑–±–∞–ª–∞—Ä—ã –¥–∞ ”©—à–µ–¥—ñ. –°—ñ–∑ —Å–µ–Ω—ñ–º–¥—ñ—Å—ñ–∑ –±–µ","Invalid data provided":"–§–æ—Ä–º–∞ –¥“±—Ä—ã—Å —Ç–æ–ª—Ç—ã—Ä—ã–ª–º–∞“ì–∞–Ω","Login Form":"–ö—ñ—Ä—É —Ñ–æ—Ä–º–∞—Å—ã",Email:jn,Password:Yn,"Password must have a length of 8":"“ö“±–ø–∏—è—Å”©–∑ –∫–µ–º –¥–µ–≥–µ–Ω–¥–µ 8 —Å–∏–º–≤–æ–ª–¥–∞–Ω “õ“±—Ä–∞–ª—É—ã –∫–µ—Ä–µ–∫","Logged in successfully, proceeding":"–ö—ñ—Ä—É —Å”ô—Ç—Ç—ñ ”©—Ç—Ç—ñ, –∂–∞–ª“ì–∞–Ω—É–¥–∞","Invalid credentials, try again":"Email –Ω–µ–º–µ—Å–µ “õ“±–ø–∏—è—Å”©–∑ “õ–∞—Ç–µ, “õ–∞–π—Ç–∞–¥–∞–Ω –∫”©—Ä—ñ“£—ñ–∑","Logging out":"–ñ“Ø–π–µ–¥–µ–Ω —à—ã“ì—É–¥–∞","Not found":"–ï—à–Ω”ô—Ä—Å–µ —Ç–∞–±—ã–ª–º–∞–¥—ã","Woops! Looks like the page you requested cannot be found.":"–û–π. –°—ñ–∑ —ñ–∑–¥–µ–≥–µ–Ω –±–µ—Ç —Å–∞–π—Ç—Ç–∞ —Ç–∞–±—ã–ª–º–∞–¥—ã","Number Create Form":"–ù–æ–º–µ—Ä–¥—ã “ö–æ—Å—É –§–æ—Ä–º–∞—Å—ã",Partner:Jn,"This field is required":"–¢–æ–ª—Ç—ã—Ä—É“ì–∞ –º—ñ–Ω–¥–µ—Ç—Ç—ñ","Lot number":"–õ–æ—Ç –Ω–æ–º–µ—Ä—ã","Already in use by":"–ö–µ–ª–µ—Å—ñ–¥–µ “õ–æ–ª–¥–∞–Ω—ã–ª“ì–∞–Ω",numbers:Wn,"Number Edit Form":"–ù–æ–º–µ—Ä–¥—ã –¢“Ø–∑–µ—É –§–æ—Ä–º–∞—Å—ã","Procurement number":"–ö–æ–Ω–∫—É—Ä—Å –Ω–æ–º–µ—Ä—ã",Numbers:Zn,Number:"–ù–æ–º–µ—Ä","Created at":"–°–∞“õ—Ç–∞–ª“ì–∞–Ω –∫“Ø–Ω—ñ","Partner Edit Form":"–ü–∞—Ä—Ç–Ω–µ—Ä–¥—ã –¢“Ø–∑–µ—É –§–æ—Ä–º–∞—Å—ã","Partner Create Form":"–ü–∞—Ä—Ç–Ω–µ—Ä–¥—ã “ö–æ—Å—É –§–æ—Ä–º–∞—Å—ã","Subpartner Edit Form":"–°—É–±–ø–∞—Ä—Ç–Ω–µ—Ä–¥—ã –¢“Ø–∑–µ—É –§–æ—Ä–º–∞—Å—ã","Subpartner Create Form":"–°—É–±–ø–∞—Ä—Ç–Ω–µ—Ä–¥—ã “ö–æ—Å—É –§–æ—Ä–º–∞—Å—ã","Partner ID Edit Form":"–ü–∞—Ä—Ç–Ω–µ—Ä ID–¥—ã –¢“Ø–∑–µ—É –§–æ—Ä–º–∞—Å—ã","Partner ID Create Form":"–ü–∞—Ä—Ç–Ω–µ—Ä ID–¥—ã “ö–æ—Å—É –§–æ—Ä–º–∞—Å—ã",Name:Xn,Comments:ea,"Full ID":"–¢–æ–ª—ã“õ ID","Invalid email address":"Email –∞–¥—Ä–µ—Å “õ–∞—Ç–µ","Creation successful":"–°”ô—Ç—Ç—ñ —Å–∞“õ—Ç–∞–ª–¥—ã","Updation successful":"–°”ô—Ç—Ç—ñ —Ç“Ø–∑–µ–ª–¥—ñ","Loading data":"–ñ–∞–∑–±–∞–ª–∞—Ä –∂“Ø–∫—Ç–µ–ª—É–¥–µ","No entries":"–ñ–∞–∑–±–∞–ª–∞—Ä –∂–æ“õ","The lot number has already been taken.":"–ë“±–ª –ª–æ—Ç –Ω–æ–º–µ—Ä—ã “õ–æ–ª–¥–∞–Ω—ã–ª“ì–∞–Ω –±–æ–ª–∞—Ç—ã–Ω.","QR Code":"QR –∫–æ–¥","Click to generate QR Code":"QR –∫–æ–¥—Ç—ã –∂“Ø–∫—Ç–µ—É “Ø—à—ñ–Ω –±–∞—Å—ã“£—ã–∑"},na="–ü—Ä–æ–≤–µ—Ä–∏—Ç—å",aa="–ö–æ–º–ø–∞–Ω–∏—è",ra="–í—Ö–æ–¥",sa="–ó–∞–≥—Ä—É–∑–∫–∞",ia="–û–±–Ω–æ–≤–∏—Ç—å",oa="–ü–∞—Ä—Ç–Ω–µ—Ä—ã",la="–°—É–±–ø–∞—Ä—Ç–Ω–µ—Ä—ã",da="–í—ã—Ö–æ–¥",ua="–ü–æ–∏—Å–∫",ca="–î–µ–π—Å—Ç–≤–∏—è",ma="–ü—Ä–∞–≤–∫–∞",ha="–£–¥–∞–ª–∏—Ç—å",pa="–î–æ–±–∞–≤–∏—Ç—å",ga="–ü—Ä–∞–≤–∏—Ç—å",ba="Email",ya="–ü–∞—Ä–æ–ª—å",fa="–ü–∞—Ä—Ç–Ω–µ—Ä",_a="–Ω–æ–º–µ—Ä–æ–≤",$a="–ù–æ–º–µ—Ä—ã",va="–ù–∞–∑–≤–∞–Ω–∏–µ",Pa="–ö–æ–º–µ–Ω—Ç–∞—Ä–∏–∏",Ea={"Entry checking form":"–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø–∏—Å–µ–º","Entry Code":"ID –Ω–æ–º–µ—Ä","Invalid entry code format":"–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç ID –Ω–æ–º–µ—Ä–∞",Check:na,"Entry code is valid":"–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ ID –±—ã–ª –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∫–æ–º–ø–∞–Ω–∏–µ–π {company}",Subpartner:aa,"Entry code is invalid":"–≠—Ç–æ—Ç ID –Ω–æ–º–µ—Ä –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ","Server side error, contact vendor":"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –æ—à–∏–±–∫–∞, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É",Login:ra,Loading:sa,Refresh:ia,Partners:oa,Subpartners:la,"Partner IDs":"ID –ü–∞—Ä—Ç–Ω–µ—Ä–æ–≤",Logout:da,Search:ua,"Add New":"–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ",Actions:ca,Edit:ma,Delete:ha,Create:pa,Update:ga,"You are deleting an item from":"–í—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å —É–¥–∞–ª—è—Ç—å –∑–∞–ø–∏—Å—å —Å","This will delete all it's child entries as well if there are. Are you sure":"–≠—Ç–æ —Ç–∞–∫–∂–µ —É–¥–∞–ª–∏—Ç –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–æ—á–µ—Ä–Ω–∏–µ –∑–∞–ø–∏—Å–∏. –í—ã —É–≤–µ—Ä–µ–Ω—ã","Invalid data provided":"–§–æ—Ä–º–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ","Login Form":"–§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞",Email:ba,Password:ya,"Password must have a length of 8":"–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 8 —Å–∏–º–≤–æ–ª–æ–≤","Logged in successfully, proceeding":"–í—Ö–æ–¥ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω, –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ","Invalid credentials, try again":"Email –∏–ª–∏ –ø–∞—Ä–æ–ª—å –Ω–µ–ø—Ä–∞–≤–∏–ª–µ–Ω, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–Ω–æ–≤–æ","Logging out":"–í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã","Not found":"–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ","Woops! Looks like the page you requested cannot be found.":"–£–ø—Å. –ü–æ—Ö–æ–∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ—Ç–æ—Ä—É—é –≤—ã –∏—â–µ—Ç–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–π–¥–µ–Ω–∞","Number Create Form":"–§–æ—Ä–º–∞ –î–æ–±–∞–≤–ª–µ–Ω–∏—è –ù–æ–º–µ—Ä–∞",Partner:fa,"This field is required":"–û–±—è–∑–∞—Ç–µ–ª–Ω–æ –∫ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—é","Lot number":"–ù–æ–º–µ—Ä –ª–æ—Ç–∞","Already in use by":"–£–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É",numbers:_a,"Number Edit Form":"–§–æ—Ä–º–∞ –ü—Ä–∞–≤–∫–∏ –ù–æ–º–µ—Ä–∞","Procurement number":"–ù–æ–º–µ—Ä –∫–æ–Ω–∫—É—Ä—Å–∞",Numbers:$a,Number:"–ù–æ–º–µ—Ä","Created at":"–î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è","Partner Edit Form":"–§–æ—Ä–º–∞ –ü—Ä–∞–≤–∫–∏ –ü–∞—Ä—Ç–Ω–µ—Ä–∞","Partner Create Form":"–§–æ—Ä–º–∞ –î–æ–±–∞–≤–ª–µ–Ω–∏—è –ü–∞—Ä—Ç–Ω–µ—Ä–∞","Subpartner Edit Form":"–§–æ—Ä–º–∞ –ü—Ä–∞–≤–∫–∏ –°—É–±–ø–∞—Ä—Ç–Ω–µ—Ä–∞","Subpartner Create Form":"–§–æ—Ä–º–∞ –î–æ–±–∞–≤–ª–µ–Ω–∏—è –°—É–±–ø–∞—Ä—Ç–Ω–µ—Ä–∞","Partner ID Edit Form":"–§–æ—Ä–º–∞ –ü—Ä–∞–≤–∫–∏ ID –ü–∞—Ä—Ç–Ω–µ—Ä–∞","Partner ID Create Form":"–§–æ—Ä–º–∞ –î–æ–±–∞–≤–ª–µ–Ω–∏—è ID –ü–∞—Ä—Ç–Ω–µ—Ä–∞",Name:va,Comments:Pa,"Full ID":"–ü–æ–ª–Ω—ã–π ID","Invalid email address":"Email –∞–¥—Ä–µ—Å –Ω–µ–ø—Ä–∞–≤–∏–ª–µ–Ω","Creation successful":"–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ","Updation successful":"–ü—Ä–∞–≤–∫–∞ —É—Å–ø–µ—à–Ω–∞","Loading data":"–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö","No entries":"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö","The lot number has already been taken.":"–¢–∞–∫–æ–π –Ω–æ–º–µ—Ä –ª–æ—Ç–∞ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.","QR Code":"QR –∫–æ–¥","Click to generate QR Code":"–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã —Å–∫–∞—á–∞—Ç—å QR –∫–æ–¥"},ka={},wa=Y({locale:localStorage.getItem("entries_lang")||"kk",fallbackLocale:"en",messages:{kk:ta,ru:Ea,en:ka},allowComposition:!0});B(Te).use(O).use(wa).mount("#entries-app");function Sa(e){return e.toLowerCase().replace(/\b\w/g,n=>n.toUpperCase())}function Ta(e){return Sa(e.replaceAll("."," "))}O.beforeEach((e,n,t)=>{document.title=`${{}.VITE_APP_NAME} - ${Ta(e.name)}`,e.matched.some(c=>c.meta.public)||localStorage.getItem("entries_user")!==null?t():t({name:"auth.login"})});
